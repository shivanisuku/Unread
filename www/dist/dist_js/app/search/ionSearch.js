angular.module("newsletterApp").directive("ionSearch",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{getData:"&source",model:"=?",search:"=?filter"},link:function(a,c,n){n.minLength=n.minLength||0,a.placeholder=n.placeholder||"",a.search={value:""};var l;e(function(){var e=document.getElementById("search");null!=e&&e.focus(),ionic.Platform.isAndroid()&&cordova.plugins.Keyboard.show()},150),n["class"]&&c.addClass(n["class"]),n.source&&a.$watch("search.value",function(c,r){c.length>n.minLength?(l=c,e(function(){l==c&&a.getData({str:c})},1e3)):a.model=[]}),a.clearSearch=function(){a.search.value=""}},template:'<div class="item-input-wrapper"><i class="icon ion-android-search"></i><input type="search" id="search" placeholder="{{placeholder}}" ng-model="search.value" autofocus><i ng-if="search.value.length > 0" ng-click="clearSearch()" class="icon ion-close" ></i></div>'}}]);