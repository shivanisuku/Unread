angular.module("newsletterApp").filter("unsafeHtml",["$sce",function(e){return function(t){if(t.indexOf("<style")>-1){var l=t.split("<style")[1].split("</style>")[0];null==l||angular.isUndefined(l)||(t=t.replace(l," [newcss]"),l=l.replace(/a{/g,".EmailContent a "),l=l.replace(/p{/g,".EmailContent p "),l=l.replace(/img{/g,".EmailContent img "),l=l.replace(/h1/g,".EmailContent h1 "),l=l.replace(/h2/g,".EmailContent h2 "),l=l.replace(/h3/g,".EmailContent h3 "),l=l.replace(/h4/g,".EmailContent h4 "),l=l.replace(/strong/g,".EmailContent strong "),l=l.replace(/b{/g,".EmailContent b "),l=l.replace(/li{/g,".EmailContent li "),l=l.replace(/ul{/g,".EmailContent ul "),l=l.replace(/span{/g,".EmailContent span "),l=l.replace(/ol{/g,".EmailContent ol "),l=l.replace(/body{/g,".EmailContent body "),l=l.replace(/html{/g,".EmailContent html "),l=l.replace(/table{/g,".EmailContent table "),l=l.replace(/td{/g,".EmailContent td "),l=l.replace(/th{/g,".EmailContent th "),l=l.replace(/tr{/g,".EmailContent tr "),l=l.replace(/.button{/g,".EmailContent .button "),l=l.replace(/div{/g,".EmailContent div"),l=l.replace(/@media/g,".EmailContent@media"),t=t.replace("[newcss]",l))}t.indexOf("<table")>-1?t=t.replace("<table",'<table class="unreadAppResize"'):t.indexOf("<div")>-1&&(t=t.replace("<div",'<div id="unreadAppResize"'));var n=/href="([\S]+)"/g,a=t.toString().replace(n,"onClick=\"window.parent.open('$1', '_system', 'location=yes')\"");return e.trustAsHtml(a)}}]);